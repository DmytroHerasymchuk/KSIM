## Комп'ютерні системи імітаційного моделювання
## СПм-24-1, Герасимчук Дмитро Вікторович
### Лабораторна робота №**3**. Використання засобів обчислювального інтелекту для оптимізації імітаційних моделей

<br>

### Варіант 3, модель у середовищі NetLogo:
[Virus](https://www.netlogoweb.org/launch#https://www.netlogoweb.org/assets/modelslib/Sample%20Models/Biology/Virus.nlogo)

<br>


### Налаштування середовища BehaviorSearch:

**Параметри моделі** (вкладка Model):  
<pre>
["duration" [0 1 99]]
["chance-recover" [0 1 99]]
["infectiousness" [0 1 99]]
["number-people" 150]
["turtle-shape" "person"]
</pre>

Для фітнес-функції було обрано **кількість людей з імунітетом**, вираз для її розрахунку взято з налаштувань графіка **Populations** аналізованої імітаційної моделі в середовищі NetLogo:

![Графік](plot.png)

та вказано у параметрі "**Measure**":
<pre>
count turtles with [ immune? ]
</pre>

Кількість людей у популяції з імунітетом має розраховуватись **в середньому** за весь період симуляції тривалістю 500 тактів, адже на кожному такті є своє значення кількості, починаючи з 0 такту симуляції.
Параметр "**Mesure if**" встановлено зі значенням true. Параметр зупинки за умовою ("**Stop if**") не використовувався. 
Загальний вигляд вкладки налаштувань параметрів моделі:  

![Вкладка налаштувань параметрів моделі](parameters.png)

**Налаштування цільової функції** (вкладка Search Objective):  
Метою підбору параметрів імітаційної моделі для визначення значення "**кількості людей з імунітетом**" є **Максимізація** цього показника через параметр "**Goal**" зі значенням "**Maximize Fitness**". Тобто, потрібно визначити такі параметри, коли максимальна кількість людей в популяції має імунітет до вірусу.
Для досягнення цієї мети, використовується параметр "**Collected measure**", що визначає спосіб обліку цього показника. У цьому випадку, встановлено значення "**MEAN_ACROSS_STEPS**". Це означає, що цікавить не просто значення "**кількості людей з імунітетом**" в певний момент симуляції, а середнє значення цього показника за весь час проведення симуляції. Щоб уникнути викривлення результатів через випадкові значення, що використовуються в логіці самої імітаційної моделі, кожна симуляція проводиться **4 рази**, результуюче значення розраховується як **середнє арифметичне**. Це допомагає зменшити випадкові відхилення і забезпечити більш надійний результат.
Загальний вигляд вкладки налаштувань цільової функції: 

![Вкладка налаштувань цільової функції](objective.png)

**Налаштування алгоритму пошуку** (вкладка Search Algorithm):  

Загальний вид вкладки налаштувань алгоритму пошуку:  
![Вкладка налаштувань пошуку](search.png)

<br>

### Результати використання BehaviorSearch:
Результат пошуку параметрів імітаційної моделі, використовуючи **генетичний алгоритм**:  
![Результати пошуку за допомогою ГА](result-ga.png)
<br>
Результат пошуку параметрів імітаційної моделі, використовуючи **випадковий пошук**:  
![Результати випадкового пошуку](result-rs.png)

Висновки: 
<br>
<br>
Ефективність пошуку: В даному конкретному експерименті Випадковий пошук (Random Search) виявився ефективнішим, досягнувши показника фітнесу 110,29 проти 108,05 у Генетичного алгоритму. Це може здатися неочікуваним, оскільки ГА зазвичай вважається більш потужним інструментом, але у просторах пошуку з невеликою кількістю вимірів або специфічною топологією випадковий пошук іноді може "потрапити" в кращу точку випадково.
<br>
Аналіз впливу параметрів: Обидва алгоритми вірно визначили, що для великої кількості імунних людей потрібна:
<br>
Висока заразність (infectiousness ~80%): Щоб люди швидко хворіли.
<br>
Високий шанс одужання (chance-recover > 85%): Щоб вони не помирали, а ставали імунними.
<br>
Ключова відмінність полягає у параметрі duration (тривалість хвороби):
<br>
ГА обрав тривалість 47 тактів.
<br>
ВП обрав тривалість 17 тактів.
<br>
Менша тривалість хвороби (знайдена випадковим пошуком) є логічнішою для максимізації цільової функції. Якщо люди хворіють коротший час і швидко одужують (завдяки високому chance-recover), вони швидше переходять у статус "immune". Чим швидше вони стають імунними, тим довше вони перебувають у цьому стані протягом 500 тактів симуляції, що підвищує середнє значення (MEAN_ACROSS_STEPS). Генетичний алгоритм, ймовірно, потрапив у локальний оптимум з довшим терміном хвороби і не зміг з нього вибратися.

![Тестування параметрів](test.jpg)